:js


// TODO could use `globalThis.Example` instead of `this` in the generated code
:sjs
object Example with
  val a = 456
  fun f(x) = [x, a]
//│ JS (unsanitized):
//│ let Example1;
//│ const Example$class = class Example {
//│   constructor() {
//│     this.a = 456;
//│   }
//│   f(x) {
//│     return [
//│       x,
//│       this.a
//│     ]
//│   }
//│   toString() { return "Example"; }
//│ }; Example1 = new Example$class;
//│ Example1.class = Example$class;
//│ null

let s = Example.f
//│ s = [function f]

:re
s(123)
//│ ═══[RUNTIME ERROR] TypeError: Cannot read properties of undefined (reading 'a')

Example |>. s(123)
//│ = [123, 456]


